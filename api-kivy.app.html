<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="twitter:site" content="@kivyframework">
    <meta name="color-scheme" content="dark light"> <!--tells web browser about which themes are supported -->
    <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Application &mdash; Kivy 2.1.0 documentation</title>
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/fresh.css" type="text/css" />
         
          <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script> 
            <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script> 
            <script src="_static/jquery.js"></script> 
            <script src="_static/underscore.js"></script> 
            <script src="_static/doctools.js"></script> 
        
        <script>
            const currTheme = localStorage.getItem("theme");
            if(currTheme){
                document.documentElement.className = currTheme;
            } else if(window.matchMedia){
                document.documentElement.className = window.matchMedia('(prefers-color-scheme: dark)').matches ? "dark": "light";
            } else { // neither localStorage or window.matchMedia exists
                document.documentElement.className = "light"; //todo should dark theme be the fallback value instead ?
            }
        </script>
        <script type="text/javascript" src="_static/jquery-effects-core-and-slide.js"></script>
        <script type="text/javascript" src="_static/jquery.cookie.js"></script>
        <script type="text/javascript" src="_static/kivy.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Kivy 2.1.0 documentation" href="index.html" />
    <link rel="up" title="Kivy framework" href="api-kivy.html" />
    <link rel="next" title="Asynchronous data loader" href="api-kivy.loader.html" />
    <link rel="prev" title="Animation" href="api-kivy.animation.html" /> 
  </head>
  <body>

    <div id="topbar">
        <div id="topwrapper">
          <div id="toplogo">
              <a href="https://kivy.org/">
                  <img src="_static/logo-kivy.png" alt="Kivy"/>
              </a>
          </div>
          <div id="topmenu">
              <ul class="navigation">
                  <li><a class="nav-guides" href="gettingstarted/intro.html">Guides</a></li>
                  <li><a class="nav-garden" href="http://kivy-garden.github.io/">Garden</a></li>
                  <li><a class="nav-api" href="api-kivy.html">API Reference</a></li>
                  <li><a class="nav-pdf" href="https://media.readthedocs.org/pdf/kivy/latest/kivy.pdf">PDF</a></li>
                  <li><a class="nav-wiki" href="http://wiki.kivy.org">Wiki</a></li>
                  <li id="li_themeToggleSwitch">
                        <button id="themeToggleSwitch" type="button">
                            <span class="vt-switch-check">
                                <span class="vt-switch-icon">
                                    <!--[-->
                                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="sun">
                                        <path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path>
                                        <path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path>
                                        <path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path>
                                        <path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path>
                                        <path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path>
                                        <path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path>
                                        <path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path>
                                        <path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path>
                                        <path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path>
                                    </svg>
                                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="moon">
                                        <path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path>
                                    </svg>
                                    <!--]-->
                                </span>
                            </span>
                        </button>

                  </li>
              </ul>
          </div>
        </div>
    </div>
<div id="contentall">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3>Версия 2.1.0 </h3>
            <select id="version_selector"></select>
            <h3>Quick search</h3>
            <form class="search" action="search.html" method="get">
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input type="text" class="text" name="q" />
                <button type="submit">Go</button>
            </form>
          <!--
          <h3><a href="index.html">Application</a></h3>
          <ul>
<li><a class="reference internal" href="#">Application</a><ul>
<li><a class="reference internal" href="#creating-an-application">Creating an Application</a><ul>
<li><a class="reference internal" href="#method-using-build-override">Method using build() override</a></li>
<li><a class="reference internal" href="#method-using-kv-file">Method using kv file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-configuration">Application configuration</a><ul>
<li><a class="reference internal" href="#use-the-configuration-file">Use the configuration file</a></li>
<li><a class="reference internal" href="#create-a-settings-panel">Create a settings panel</a></li>
</ul>
</li>
<li><a class="reference internal" href="#profiling-with-on-start-and-on-stop">Profiling with on_start and on_stop</a></li>
<li><a class="reference internal" href="#customising-layout">Customising layout</a></li>
<li><a class="reference internal" href="#pause-mode">Pause mode</a></li>
<li><a class="reference internal" href="#asynchronous-app">Asynchronous app</a><ul>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#async-configuration">Async configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interacting-with-kivy-app-from-other-coroutines">Interacting with Kivy app from other coroutines</a></li>
</ul>
</li>
</ul>

          <h3><a href="index.html">Table Of Contents</a></h3>
          -->
          <ul>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Gallery of Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/gallery.html">Gallery</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__3Drendering__main__py.html">3D Rotating Monkey Head</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__animation__animate__py.html">Widget animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__application__app_suite__py.html">Suite of Application Builders</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__application__app_with_build__py.html">Application example using build() + return</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__application__app_with_kv__py.html">Application built from a  .kv file</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__application__app_with_kv_in_template1__py.html">Application from a .kv in a Template Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__camera__main__py.html">Camera Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__bezier__py.html">Bezier Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__canvas_stress__py.html">Canvas stress</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__circle__py.html">Circle Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__fbo_canvas__py.html">FBO Canvas</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__lines__py.html">Line (SmoothLine) Experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__lines_extended__py.html">Lines Extended Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__mesh__py.html">Mesh test</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__multitexture__py.html">Multitexture Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__repeat_texture__py.html">Repeat Texture on Resize</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__rotation__py.html">Rotation Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__stencil_canvas__py.html">Stencil demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__tesselate__py.html">Tesselate Demonstration</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__canvas__texture__py.html">Texture Wrapping and Coordinates Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__demo__camera_puzzle__py.html">Shuffled Camera Feed Puzzle</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__demo__kivycatalog__main__py.html">Kivy Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__demo__multistroke__main__py.html">Multistroke Recognition Database Demonstration</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__demo__pictures__main__py.html">Basic Picture Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__demo__shadereditor__main__py.html">Live Shader Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__demo__showcase__main__py.html">Showcase of Kivy Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/gen__demo__touchtracer__main__py.html">Touch Tracer Line Drawing Demonstration</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/installation.html">Installing Kivy</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/first_app.html">A first App</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/properties.html">Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/rules.html">Kv Design Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/events.html">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/framework.html">Non-widget stuff</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/layouts.html">Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/drawing.html">Drawing</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/packaging.html">Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted/diving.html">Diving in</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">Kivy Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="philosophy.html">Philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="contribute.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="contact.html">Contact Us</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="guide-index.html">Programming Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="guide/basic.html">Kivy Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/environment.html">Controlling the environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/config.html">Configure Kivy</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/architecture.html">Architectural Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/events.html">Events and Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/inputs.html">Input management</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/widgets.html">Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/graphics.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/lang.html">Kv language</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/other-frameworks.html">Integrating with other Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/packaging.html">Packaging your application</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/licensing.html">Package licensing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials-index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/pong.html">Pong Game Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/firstwidget.html">A Simple Paint App</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/crashcourse.html">Crash Course</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="api-index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="api-kivy.html">Kivy framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy._metrics.html">Low level Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy._version.html">NO DOCUMENTATION (module kivy.uix.recycleview)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.animation.html">Animation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.atlas.html">Atlas</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.base.html">Kivy Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.cache.html">Cache manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.clock.html">Clock object</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.compat.html">Compatibility module for Python 2.7 and &gt;= 3.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.config.html">Configuration object</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.context.html">Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.html">Core Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.audio.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.camera.html">Camera</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.clipboard.html">Clipboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.gl.html">OpenGL</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.image.html">Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.spelling.html">Spelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.text.html">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.text.markup.html">Text Markup</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.text.text_layout.html">Text layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.video.html">Video</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.core.window.html">Window</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.deps.html">Kivy module for binary dependencies.</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.effects.dampedscroll.html">Damped scroll effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.effects.kinetic.html">Kinetic effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.effects.opacityscroll.html">Opacity scroll effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.effects.scroll.html">Scroll effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.event.html">Event dispatcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.eventmanager.html">Event Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.factory.html">Factory object</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.garden.html">Garden</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.geometry.html">Geometry utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.gesture.html">Gesture recognition</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.cgl.html">CGL: standard C interface for OpenGL</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.compiler.html">Graphics compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.context.html">Context management</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.context_instructions.html">Context instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.fbo.html">Framebuffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.gl_instructions.html">GL instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.instructions.html">Canvas</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.opengl.html">OpenGL</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.opengl_utils.html">OpenGL utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.scissor_instructions.html">Scissor Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.shader.html">Shader</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.stencil_instructions.html">Stencil instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.svg.html">SVG</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.tesselator.html">Tesselator</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.texture.html">Texture</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.graphics.transformation.html">Transformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.html">Input management</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.factory.html">Motion Event Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.motionevent.html">Motion Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.postproc.html">Input Postprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.postproc.calibration.html">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.postproc.dejitter.html">Dejitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.postproc.doubletap.html">Double Tap</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.postproc.ignorelist.html">Ignore list</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.postproc.retaintouch.html">Retain Touch</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.postproc.tripletap.html">Triple Tap</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.provider.html">Motion Event Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.html">Providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.androidjoystick.html">Android Joystick Input Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.hidinput.html">Native support for HID input from the linux kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.leapfinger.html">Leap Motion - finger only</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.linuxwacom.html">Native support of Wacom tablet from linuxwacom driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.mactouch.html">Native support of MultitouchSupport framework for MacBook (MaxOSX platform)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.mouse.html">Mouse provider implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.mtdev.html">Native support for Multitouch devices on Linux, using libmtdev.</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.probesysfs.html">Auto Create Input Provider Config Entry for Available MT Hardware (linux only).</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.tuio.html">TUIO Input Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.providers.wm_common.html">Common definitions for a Windows provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.recorder.html">Input recorder</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.input.shape.html">Motion Event Shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.interactive.html">Interactive launcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.lang.html">Kivy Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.lang.builder.html">Builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.lang.parser.html">Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.lib.html">External libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.lib.ddsfile.html">DDS File library</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.lib.gstplayer.html">GstPlayer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.lib.mtdev.html">Python mtdev</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.loader.html">Asynchronous data loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.logger.html">Logger object</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.metrics.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.console.html">Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.inspector.html">Inspector</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.joycursor.html">JoyCursor</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.keybinding.html">Keybinding</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.monitor.html">Monitor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.recorder.html">Recorder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.screen.html">Screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.touchring.html">Touchring</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.modules.webdebugger.html">Web Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.multistroke.html">Multistroke gesture recognizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.network.html">Network support</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.network.urlrequest.html">UrlRequest</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.parser.html">Parser utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.properties.html">Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.resources.html">Resources management</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.storage.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.storage.dictstore.html">Dictionary store</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.storage.jsonstore.html">JSON store</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.storage.redisstore.html">Redis Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.tools.packaging.html">Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.tools.packaging.pyinstaller_hooks.html">Pyinstaller hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.html">Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.accordion.html">Accordion</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.actionbar.html">Action Bar</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.anchorlayout.html">Anchor Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.html">Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.button.html">Button Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.codenavigation.html">Code Navigation Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.compoundselection.html">Compound Selection Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.cover.html">Cover Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.drag.html">Drag Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.emacs.html">Emacs Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.focus.html">Focus Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.knspace.html">Kivy Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.togglebutton.html">ToggleButton Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.behaviors.touchripple.html">Touch Ripple</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.boxlayout.html">Box Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.bubble.html">Bubble</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.button.html">Button</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.camera.html">Camera</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.carousel.html">Carousel</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.checkbox.html">CheckBox</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.codeinput.html">Code Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.colorpicker.html">Color Picker</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.dropdown.html">Drop-Down List</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.effectwidget.html">EffectWidget</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.filechooser.html">FileChooser</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.floatlayout.html">Float Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.gesturesurface.html">Gesture Surface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.gridlayout.html">Grid Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.image.html">Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.label.html">Label</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.layout.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.modalview.html">ModalView</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.pagelayout.html">PageLayout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.popup.html">Popup</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.progressbar.html">Progress Bar</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.recycleboxlayout.html">RecycleBoxLayout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.recyclegridlayout.html">RecycleGridLayout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.recyclelayout.html">RecycleLayout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.recycleview.html">RecycleView</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.recycleview.datamodel.html">RecycleView Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.recycleview.layout.html">RecycleView Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.recycleview.views.html">RecycleView Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.relativelayout.html">Relative Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.rst.html">reStructuredText renderer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.sandbox.html">Sandbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.scatter.html">Scatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.scatterlayout.html">Scatter Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.screenmanager.html">Screen Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.scrollview.html">ScrollView</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.settings.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.slider.html">Slider</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.spinner.html">Spinner</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.splitter.html">Splitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.stacklayout.html">Stack Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.stencilview.html">Stencil View</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.switch.html">Switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.tabbedpanel.html">TabbedPanel</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.textinput.html">Text Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.togglebutton.html">Toggle button</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.treeview.html">Tree View</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.video.html">Video</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.videoplayer.html">Video player</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.vkeyboard.html">VKeyboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.uix.widget.html">Widget class</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.vector.html">Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.weakmethod.html">Weak Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-kivy.weakproxy.html">Weak Proxy</a></li>
</ul>
</li>
</ul>

          <!--
          <h3>Related Topics</h3>
          <ul>
              <li>Previous: <a href="api-kivy.animation.html" title="previous chapter">Animation</a></li>
              <li>Next: <a href="api-kivy.loader.html" title="next chapter">Asynchronous data loader</a></li>
          </ul>
          -->
        </div>
      </div>
  <div id="content">
    <div class="wrapper">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            <div class="toc"><h2>Table Of Contents</h2><ul>
<li><a class="reference internal" href="#">Application</a><ul>
<li><a class="reference internal" href="#creating-an-application">Creating an Application</a><ul>
<li><a class="reference internal" href="#method-using-build-override">Method using build() override</a></li>
<li><a class="reference internal" href="#method-using-kv-file">Method using kv file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-configuration">Application configuration</a><ul>
<li><a class="reference internal" href="#use-the-configuration-file">Use the configuration file</a></li>
<li><a class="reference internal" href="#create-a-settings-panel">Create a settings panel</a></li>
</ul>
</li>
<li><a class="reference internal" href="#profiling-with-on-start-and-on-stop">Profiling with on_start and on_stop</a></li>
<li><a class="reference internal" href="#customising-layout">Customising layout</a></li>
<li><a class="reference internal" href="#pause-mode">Pause mode</a></li>
<li><a class="reference internal" href="#asynchronous-app">Asynchronous app</a><ul>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#async-configuration">Async configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interacting-with-kivy-app-from-other-coroutines">Interacting with Kivy app from other coroutines</a></li>
</ul>
</li>
</ul>
</div>
            
<section id="module-kivy.app">
<span id="application"></span><h1>Приложение<a class="headerlink" href="#module-kivy.app" title="Ссылка на данный заголовок">¶</a></h1>
<p>Класс <a class="reference internal" href="#kivy.app.App" title="kivy.app.App"><code class="xref py py-class docutils literal notranslate"><span class="pre">App</span></code></a> является базовым для создания приложений Kivy.
Думайте о нем как о вашей основной точке входа в цикл выполнения Kivy. В большинстве
случаев вы создаете подкласс этого класса и создаете свое собственное приложение. Вы создаете
экземпляр вашего конкретного класса приложения, а затем, когда вы готовы
начать жизненный цикл приложения, вызываете метод
<a class="reference internal" href="#kivy.app.App.run" title="kivy.app.App.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.run()</span></code></a> вашего экземпляра.</p>
<section id="creating-an-application">
<h2>Создание приложения<a class="headerlink" href="#creating-an-application" title="Ссылка на данный заголовок">¶</a></h2>
<section id="method-using-build-override">
<h3>Способ с использованием переопределения build()<a class="headerlink" href="#method-using-build-override" title="Ссылка на данный заголовок">¶</a></h3>
<p>Для инициализации вашего приложения с древом виджетов переопределите метод <a class="reference internal" href="#kivy.app.App.build" title="kivy.app.App.build"><code class="xref py py-meth docutils literal notranslate"><span class="pre">build()</span></code></a>
в вашем классе приложения и верните древо виджетов, которое вы построили.</p>
<p>Вот пример очень простого приложения, которое просто показывает кнопку:</p>

<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Application example using build() + return</span>
<span class="sd">==========================================</span>

<span class="sd">An application can be built if you return a widget on build(), or if you set</span>
<span class="sd">self.root.</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">import</span> <span class="nn">kivy</span>
<span class="n">kivy</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="s1">&#39;1.0.7&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">kivy.app</span> <span class="kn">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.button</span> <span class="kn">import</span> <span class="n">Button</span>


<span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># return a Button() as a root widget</span>
        <span class="k">return</span> <span class="n">Button</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">TestApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Файл также доступен в папке examples по следующему пути:
<code class="file docutils literal notranslate"><span class="pre">kivy/examples/application/app_with_build.py</span></code>.</p>
<p>Здесь не было создано древо виджетов (или, если хотите, дерево только с
корневым узлом).</p>
</section>
<section id="method-using-kv-file">
<h3>Способ с использованием файла kv<a class="headerlink" href="#method-using-kv-file" title="Ссылка на данный заголовок">¶</a></h3>
<p>Вы также можете использовать <a class="reference internal" href="api-kivy.lang.html"><span class="doc">Язык Kivy</span></a> для создания приложений. В
файле .kv можно одновременно содержать правила и определения корневых виджетов. Вот
тот же пример, что и с кнопкой, описанный в файле kv.</p>
<p>Содержимое файла 'test.kv':</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#:kivy 1.0</span>

<span class="n">Button</span><span class="p">:</span>
    <span class="n">text</span><span class="p">:</span> <span class="s1">&#39;Привет из test.kv&#39;</span>
</pre></div>
</div>
<p>Содержимое файла 'main.py':</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>

<span class="sd">Application built from a  .kv file</span>
<span class="sd">==================================</span>

<span class="sd">This shows how to implicitly use a .kv file for your application. You</span>
<span class="sd">should see a full screen button labelled &quot;Hello from test.kv&quot;.</span>

<span class="sd">After Kivy instantiates a subclass of App, it implicitly searches for a .kv</span>
<span class="sd">file. The file test.kv is selected because the name of the subclass of App is</span>
<span class="sd">TestApp, which implies that kivy should try to load &quot;test.kv&quot;. That file</span>
<span class="sd">contains a root Widget.</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">import</span> <span class="nn">kivy</span>
<span class="n">kivy</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="s1">&#39;1.0.7&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">kivy.app</span> <span class="kn">import</span> <span class="n">App</span>


<span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">TestApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>См. <code class="file docutils literal notranslate"><span class="pre">kivy/examples/application/app_with_kv.py</span></code>.</p>
<p>Связь между файлом main.py и test.kv объясняется в
<a class="reference internal" href="#kivy.app.App.load_kv" title="kivy.app.App.load_kv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.load_kv()</span></code></a>.</p>
</section>
</section>
<section id="application-configuration">
<span id="id1"></span><h2>Настройка приложения<a class="headerlink" href="#application-configuration" title="Ссылка на данный заголовок">¶</a></h2>
<section id="use-the-configuration-file">
<h3>Использование файла конфигурации<a class="headerlink" href="#use-the-configuration-file" title="Ссылка на данный заголовок">¶</a></h3>
<p>Вашему приложению может потребоваться собственный файл конфигурации.
Класс <a class="reference internal" href="#kivy.app.App" title="kivy.app.App"><code class="xref py py-class docutils literal notranslate"><span class="pre">App</span></code></a> автоматически обрабатывает файлы ‘ini’, если вы добавите
пары ключ-значение секции в метод <a class="reference internal" href="#kivy.app.App.build_config" title="kivy.app.App.build_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.build_config()</span></code></a>, используя
параметр <cite>config</cite> (экземпляр класса <a class="reference internal" href="api-kivy.config.html#kivy.config.ConfigParser" title="kivy.config.ConfigParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigParser</span></code></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">config</span><span class="o">.</span><span class="n">setdefaults</span><span class="p">(</span><span class="s1">&#39;section1&#39;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s1">&#39;key1&#39;</span><span class="p">:</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span>
            <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="s1">&#39;42&#39;</span>
        <span class="p">})</span>
</pre></div>
</div>
<p>Как только вы добавите одну секцию в конфигурацию, на диске будет создан файл (см. <a class="reference internal" href="#kivy.app.App.get_application_config" title="kivy.app.App.get_application_config"><code class="xref py py-attr docutils literal notranslate"><span class="pre">get_application_config</span></code></a> для его местоположения), и
он будет назван на основе имени вашего класса. "TestApp" создаст файл конфигурации
"test.ini" со следующим содержимым:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">section1</span><span class="p">]</span>
<span class="n">key1</span> <span class="o">=</span> <span class="n">value1</span>
<span class="n">key2</span> <span class="o">=</span> <span class="mi">42</span>
</pre></div>
</div>
<p>Файл "test.ini" будет автоматически загружен во время выполнения, и вы сможете получить доступ к
конфигурации в вашем методе <a class="reference internal" href="#kivy.app.App.build" title="kivy.app.App.build"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.build()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">config</span><span class="o">.</span><span class="n">setdefaults</span><span class="p">(</span><span class="s1">&#39;section1&#39;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s1">&#39;key1&#39;</span><span class="p">:</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span>
            <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="s1">&#39;42&#39;</span>
        <span class="p">})</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>
        <span class="k">return</span> <span class="n">Label</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;key1 is </span><span class="si">%s</span><span class="s1"> and key2 is </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;section1&#39;</span><span class="p">,</span> <span class="s1">&#39;key1&#39;</span><span class="p">),</span>
            <span class="n">config</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s1">&#39;section1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">)))</span>
</pre></div>
</div>
</section>
<section id="create-a-settings-panel">
<h3>Создание панели настроек<a class="headerlink" href="#create-a-settings-panel" title="Ссылка на данный заголовок">¶</a></h3>
<p>Ваше приложение может иметь панель настроек, которая позволяет пользователю настроить некоторые из
конфигурационных параметров. Вот пример, выполненный в примере KinectViewer
(доступном в каталоге примеров):</p>
<blockquote>
<div><img alt="_images/app-settings.jpg" class="align-center" src="_images/app-settings.jpg" />
</div></blockquote>
<p>Вы можете добавить собственные панели настроек, расширив метод
<a class="reference internal" href="#kivy.app.App.build_settings" title="kivy.app.App.build_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.build_settings()</span></code></a>.
Ознакомьтесь с <a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.Settings" title="kivy.uix.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a> о том, как создать панель,
потому что вам сначала потребуется файл JSON или данные.</p>
<p>Давайте возьмем в качестве примера предыдущий фрагмент TestApp с настройками по умолчанию.
Мы могли бы создать JSON вот так:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;title&quot;</span><span class="p">,</span>
      <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Тестовое приложение&quot;</span> <span class="p">},</span>

    <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;options&quot;</span><span class="p">,</span>
      <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Мой первый ключ&quot;</span><span class="p">,</span>
      <span class="s2">&quot;desc&quot;</span><span class="p">:</span> <span class="s2">&quot;Описание моего первого ключа&quot;</span><span class="p">,</span>
      <span class="s2">&quot;section&quot;</span><span class="p">:</span> <span class="s2">&quot;section1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;key1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;options&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">,</span> <span class="s2">&quot;еще одно значение&quot;</span><span class="p">]</span> <span class="p">},</span>

    <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;numeric&quot;</span><span class="p">,</span>
      <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Мой второй ключ&quot;</span><span class="p">,</span>
      <span class="s2">&quot;desc&quot;</span><span class="p">:</span> <span class="s2">&quot;Описание моего второго ключа&quot;</span><span class="p">,</span>
      <span class="s2">&quot;section&quot;</span><span class="p">:</span> <span class="s2">&quot;section1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;key2&quot;</span> <span class="p"> }</span>
<span class="p">]</span>
</pre></div></div>
<p>Затем мы можем создать панель, используя этот JSON, чтобы автоматически создать все параметры
и связать их с нашим экземпляром ConfigParser из <a class="reference internal" href="#kivy.app.App.config" title="kivy.app.App.config"><code class="xref py py-attr docutils literal notranslate"><span class="pre">App.config</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="k">def</span> <span class="nf">build_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">):</span>
        <span class="n">jsondata</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;... поместите сюда данные JSON ...&quot;&quot;&quot;</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">add_json_panel</span><span class="p">(</span><span class="s1">&#39;Тестовое приложение&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsondata</span><span class="p">)</span>
</pre></div></div>
<p>Вот и все! Теперь вы можете нажать F1 (клавиша по умолчанию), чтобы переключить
панель настроек, или нажать клавишу "Настройки" на вашем устройстве Android. Вы
можете также вручную вызвать <a class="reference internal" href="#kivy.app.App.open_settings" title="kivy.app.App.open_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.open_settings()</span></code></a> и
<a class="reference internal" href="#kivy.app.App.close_settings" title="kivy.app.App.close_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.close_settings()</span></code></a>, если хотите управлять этим вручную. Все
изменения в панели автоматически сохраняются в файле конфигурации.</p>
<p>Вы также можете использовать <a class="reference internal" href="#kivy.app.App.build_settings" title="kivy.app.App.build_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.build_settings()</span></code></a> для изменения свойств
панели настроек. Например, в стандартной панели есть боковая панель для
переключения между панелями JSON, ширина которой по умолчанию равна 200dp. Если
вы хотите, чтобы она была уже, вы можете добавить следующее:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">dp</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div></div>
<p>в вашем методе <code class="xref py py-meth docutils literal notranslate"><span class="pre">build_settings()</span></code>.</p>
<p>Вам может потребоваться знать, когда пользователь изменил значение конфигурации, чтобы адаптировать
или перезагрузить ваш пользовательский интерфейс. Тогда вы можете перегрузить метод
<code class="xref py py-meth docutils literal notranslate"><span class="pre">on_config_change()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="k">def</span> <span class="nf">on_config_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="n">token</span> <span class="o">=</span> <span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;section1&#39;</span><span class="p">,</span> <span class="s1">&#39;key1&#39;</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Наш key1 был изменен на&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;section1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Наш key2 был изменен на&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div></div>
<p>Панель настроек Kivy добавляется по умолчанию в экземпляр настроек. Если вы не хотите
панель Kivy, вы можете объявить свое приложение следующим образом:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="n">use_kivy_settings</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># ...</span>
</pre></div></div>
<p>Это только удаляет панель Kivy, но не останавливает экземпляр настроек
от появления. Если вы хотите вообще предотвратить появление экземпляра настроек
совсем, вы можете сделать это так:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">open_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">largs</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div></div>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.0.7.</span></p>
</div>
</section>
</section>
<section id="profiling-with-on-start-and-on-stop">
<h2>Профилирование с помощью on_start и on_stop<a class="headerlink" href="#profiling-with-on-start-and-on-stop" title="Ссылка на данный раздел">¶</a></h2>
<p>Часто бывает полезно профилировать код на Python, чтобы найти места для оптимизации. Стандартная библиотека Python предоставляет несколько вариантов профилирования (<a class="reference external" href="http://docs.python.org/2/library/profile.html">http://docs.python.org/2/library/profile.html</a>). Для профилирования всей программы естественные подходы, такие как использование profile как модуля или метода run модуля profile, не работают с Kivy. Однако можно использовать методы <a class="reference internal" href="#kivy.app.App.on_start" title="kivy.app.App.on_start"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.on_start()</span></code></a> и <a class="reference internal" href="#kivy.app.App.on_stop" title="kivy.app.App.on_stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.on_stop()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cProfile</span>

<span class="k">class</span> <span class="nc">MyApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">dump_stats</span><span class="p">(</span><span class="s1">&#39;myapp.profile&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Это создаст файл с именем <cite>myapp.profile</cite> при завершении вашего приложения.</p>
</section>

<section id="customising-layout">
<h2>Настройка макета<a class="headerlink" href="#customising-layout" title="Ссылка на данный раздел">¶</a></h2>
<p>Вы можете выбирать различные настройки макета виджета, установив
<a class="reference internal" href="#kivy.app.App.settings_cls" title="kivy.app.App.settings_cls"><code class="xref py py-attr docutils literal notranslate"><span class="pre">App.settings_cls</span></code></a>. По умолчанию это
класс
<a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.Settings" title="kivy.uix.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a>, который предоставляет изображенный
макет боковой панели, но вы можете установить любой другой макет из
предоставленных в <a class="reference internal" href="api-kivy.uix.settings.html#module-kivy.uix.settings" title="kivy.uix.settings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kivy.uix.settings</span></code></a> или создать свой собственный. Для получения дополнительной информации
смотрите документацию модуля <a class="reference internal" href="api-kivy.uix.settings.html#module-kivy.uix.settings" title="kivy.uix.settings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kivy.uix.settings</span></code></a>.</p>
<p>Вы можете настраивать отображение панели настроек, переопределяя метод <a class="reference internal" href="#kivy.app.App.display_settings" title="kivy.app.App.display_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.display_settings()</span></code></a>, который вызывается перед
отображением панели настроек на экране. По умолчанию он
просто рисует панель поверх окна, но вы можете изменить его, например, чтобы
показать настройки в виде <a class="reference internal" href="api-kivy.uix.popup.html#kivy.uix.popup.Popup" title="kivy.uix.popup.Popup"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popup</span></code></a> или добавить ее в свой
<a class="reference internal" href="api-kivy.uix.screenmanager.html#kivy.uix.screenmanager.ScreenManager" title="kivy.uix.screenmanager.ScreenManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScreenManager</span></code></a>, если вы используете
его. Если вы это сделаете, вам также нужно будет изменить <a class="reference internal" href="#kivy.app.App.close_settings" title="kivy.app.App.close_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.close_settings()</span></code></a>
для корректного закрытия панели. Например, чтобы панель настроек появлялась в виде всплывающего окна, вы можете сделать так:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">display_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_popup</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_popup</span> <span class="o">=</span> <span class="n">Popup</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
                                    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Настройки&#39;</span><span class="p">,</span>
                                    <span class="n">size_hint</span><span class="o">=</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_popup</span>
    <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">settings</span><span class="p">:</span>
        <span class="n">p</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">settings</span>
    <span class="n">p</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">close_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_popup</span>
        <span class="n">p</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="k">pass</span> <span class="c1"># Панель настроек не существует</span>
</pre></div>
</div>
<p>Наконец, если вы хотите заменить текущий виджет панели настроек, вы
можете удалить внутренние ссылки на него с помощью
<a class="reference internal" href="#kivy.app.App.destroy_settings" title="kivy.app.App.destroy_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.destroy_settings()</span></code></a>. Если вы изменили
<a class="reference internal" href="#kivy.app.App.display_settings" title="kivy.app.App.display_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.display_settings()</span></code></a>, будьте осторожны, чтобы обнаружить, была ли заменена панель настроек.</p>
</section>
<section id="pause-mode">
<h2>Режим паузы<a class="headerlink" href="#pause-mode" title="Ссылка на данный раздел">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.1.0.</span></p>
</div>
<p>На планшетах и телефонах пользователь может в любой момент переключиться на другое
приложение. По умолчанию ваше приложение закроется, и
событие <a class="reference internal" href="#kivy.app.App.on_stop" title="kivy.app.App.on_stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.on_stop()</span></code></a> будет вызвано.</p>
<p>Если вы поддерживаете режим паузы, при переключении на другое приложение ваше
приложение будет ожидать бесконечно, пока пользователь
не вернется к вашему приложению. Есть проблема с OpenGL на устройствах Android: не гарантируется, что контекст OpenGL ES будет восстановлен, когда
ваше приложение возобновится. Механизм восстановления всех данных OpenGL еще не
реализован в Kivy.</p>
<p>В настоящее время реализованный механизм паузы следующий:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Kivy проверяет каждый кадр, активирован ли режим паузы операционной
системой из-за переключения пользователя на другое приложение, выключения телефона
или любой другой причины.</p></li>
<li><p>Вызывается <a class="reference internal" href="#kivy.app.App.on_pause" title="kivy.app.App.on_pause"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.on_pause()</span></code></a>:</p></li>
<li><p>Если возвращено False, вызывается <a class="reference internal" href="#kivy.app.App.on_stop" title="kivy.app.App.on_stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.on_stop()</span></code></a>.</p></li>
<li><p>Если возвращено True (по умолчанию), приложение засыпает до
возобновления его операционной системой.</p></li>
<li><p>При возобновлении приложения вызывается <a class="reference internal" href="#kivy.app.App.on_resume" title="kivy.app.App.on_resume"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.on_resume()</span></code></a>.</p></li>
<li><p>Если память нашего приложения была освобождена операционной системой, то ничего не будет
вызвано.</p></li>
</ol>
</div></blockquote>
<p>Вот простой пример того, как следует использовать on_pause():</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

   <span class="k">def</span> <span class="nf">on_pause</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="c1"># Здесь вы можете сохранить данные при необходимости</span>
      <span class="k">return</span> <span class="kc">True</span>

   <span class="k">def</span> <span class="nf">on_resume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="c1"># Здесь вы можете проверить, нужно ли что-то заменить (обычно ничего)</span>
      <span class="k">pass</span>
</pre></div></div>
<div class="admonition warning">
<p class="admonition-title">Предупреждение</p>
<p>И <cite>on_pause</cite>, и <cite>on_stop</cite> должны сохранять важные данные, потому что после
вызова <cite>on_pause</cite> <cite>on_resume</cite> может вообще не вызываться.</p>
</div>
</section>

<section id="asynchronous-app">
<h2>Асинхронное приложение<a class="headerlink" href="#asynchronous-app" title="Ссылка на данный раздел">¶</a></h2>
<p>Помимо обычного запуска приложения,
Kivy может работать в асинхронном цикле событий, таком как предоставляемый стандартным
библиотекой asyncio или библиотекой trio (настоятельно рекомендуется).</p>
<section id="background">
<h3>Фон<a class="headerlink" href="#background" title="Ссылка на данный раздел">¶</a></h3>
<p>Обычно, когда запускается приложение Kivy, оно блокирует поток, в котором оно запущено, до
выхода приложения. Внутренне, на каждой итерации такта часов выполнение всех колбэков приложения
и обработка графики и ввода выполняется, а затем приложение переходит в режим ожидания, спящий на оставшееся время.</p>
<p>Для возможности асинхронного выполнения приложение Kivy не может спать, вместо этого оно должно
освобождать управление контекстом выполнения асинхронного цикла событий, в котором
запущено приложение Kivy. Это делается при простое путем вызова соответствующих функций
пакета async, используемого вместо сна.</p>
</section>
<section id="async-configuration">
<h3>Настройка асинхронности<a class="headerlink" href="#async-configuration" title="Ссылка на данный раздел">¶</a></h3>
<p>Для асинхронного запуска приложения Kivy необходимо запланировать выполнение корутины
<a class="reference internal" href="#kivy.app.async_runTouchApp" title="kivy.app.async_runTouchApp"><code class="xref py py-func docutils literal notranslate"><span class="pre">async_runTouchApp()</span></code></a> или
<a class="reference internal" href="#kivy.app.App.async_run" title="kivy.app.App.async_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.async_run()</span></code></a>
в цикле событий асинхронной библиотеки, используемой в данный момент.</p>
<p>Переменная окружения <code class="docutils literal notranslate"><span class="pre">KIVY_EVENTLOOP</span></code> или параметр <code class="docutils literal notranslate"><span class="pre">async_lib</span></code> в
<a class="reference internal" href="#kivy.app.async_runTouchApp" title="kivy.app.async_runTouchApp"><code class="xref py py-func docutils literal notranslate"><span class="pre">async_runTouchApp()</span></code></a> и <a class="reference internal" href="#kivy.app.App.async_run" title="kivy.app.App.async_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.async_run()</span></code></a> устанавливают асинхронную
библиотеку, которую Kivy использует внутренне при запуске приложения с
помощью <a class="reference internal" href="#kivy.app.async_runTouchApp" title="kivy.app.async_runTouchApp"><code class="xref py py-func docutils literal notranslate"><span class="pre">async_runTouchApp()</span></code></a> и <a class="reference internal" href="#kivy.app.App.async_run" title="kivy.app.App.async_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.async_run()</span></code></a>. Он может быть установлен на одно из значений
<cite>"asyncio"</cite>, когда используется стандартная библиотека <cite>asyncio</cite>, или <cite>"trio"</cite>, если
используется библиотека trio. Если переменная окружения не установлена, а <code class="docutils literal notranslate"><span class="pre">async_lib</span></code>
не предоставлена, будет использована стандартная библиотека <cite>asyncio</cite>.</p>
<p>Также можно непосредственно вызвать <a class="reference internal" href="api-kivy.clock.html#kivy.clock.ClockBaseBehavior.init_async_lib" title="kivy.clock.ClockBaseBehavior.init_async_lib"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_async_lib()</span></code></a>,
чтобы установить асинхронную библиотеку, но это можно сделать только до
начала выполнения приложения с помощью <a class="reference internal" href="#kivy.app.async_runTouchApp" title="kivy.app.async_runTouchApp"><code class="xref py py-func docutils literal notranslate"><span class="pre">async_runTouchApp()</span></code></a> или <a class="reference internal" href="#kivy.app.App.async_run" title="kivy.app.App.async_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.async_run()</span></code></a>.</p>
<p>Для асинхронного запуска приложения необходимо запланировать выполнение <a class="reference internal" href="#kivy.app.async_runTouchApp" title="kivy.app.async_runTouchApp"><code class="xref py py-func docutils literal notranslate"><span class="pre">async_runTouchApp()</span></code></a>
или <a class="reference internal" href="#kivy.app.App.async_run" title="kivy.app.App.async_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.async_run()</span></code></a> в

 асинхронном цикле событий библиотеки,
как показано в приведенных ниже примерах. Kivy будет обрабатываться как еще одна корутина,
которую данная библиотека выполняет в своем цикле событий. Внутренне Kivy будет использовать
API указанной асинхронной библиотеки, поэтому переменная окружения <code class="docutils literal notranslate"><span class="pre">KIVY_EVENTLOOP</span></code>
или <code class="docutils literal notranslate"><span class="pre">async_lib</span></code> должны соответствовать асинхронной библиотеке, в которой работает Kivy.</p>
<p>Для получения более полных примеров основных и более сложных примеров см. демонстрационные приложения в
<code class="docutils literal notranslate"><span class="pre">examples/async</span></code>.</p>
<p>Пример с asyncio
~~~~~~~~~~~~~~~~~</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">kivy.app</span> <span class="kn">import</span> <span class="n">async_runTouchApp</span>
<span class="kn">from</span> <span class="nn">kivy.uix.label</span> <span class="kn">import</span> <span class="n">Label</span>


<span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
<span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span>
    <span class="n">async_runTouchApp</span><span class="p">(</span><span class="n">Label</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Привет, мир!&#39;</span><span class="p">),</span> <span class="n">async_lib</span><span class="o">=</span><span class="s1">&#39;asyncio&#39;</span><span class="p">))</span>
<span class="n">loop</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div></div>
<p>Пример с trio
~~~~~~~~~~~~~</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">trio</span>

<span class="kn">from</span> <span class="nn">kivy.app</span> <span class="kn">import</span> <span class="n">async_runTouchApp</span>
<span class="kn">from</span> <span class="nn">kivy.uix.label</span> <span class="kn">import</span> <span class="n">Label</span>

<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="c1"># используйте functools.partial() для передачи ключевых аргументов:</span>
<span class="n">async_runTouchApp_func</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">async_runTouchApp</span><span class="p">,</span> <span class="n">async_lib</span><span class="o">=</span><span class="s1">&#39;trio&#39;</span><span class="p">)</span>

<span class="n">trio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">async_runTouchApp_func</span><span class="p">,</span> <span class="n">Label</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Привет, мир!&#39;</span><span class="p">))</span>
</pre></div></div>
</section>
</section>
<section id="interacting-with-kivy-app-from-other-coroutines">
<h2>Взаимодействие с приложением Kivy из других корутин<a class="headerlink" href="#interacting-with-kivy-app-from-other-coroutines" title="Ссылка на данный заголовок">¶</a></h2>
<p>Полностью безопасно взаимодействовать с любым объектом Kivy из других корутин,
работающих в том же асинхронном цикле событий. Это происходит потому, что они все выполняются
из одного и того же потока, и другие корутины выполняются только тогда, когда Kivy
находится в режиме ожидания.</p>
<p>Точно так же обратные вызовы Kivy могут безопасно взаимодействовать с объектами из других
корутин, работающих в том же цикле событий. На оба случая применяются нормальные правила
для однопоточной работы.</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 2.0.0.</span></p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="kivy.app.App">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kivy.app.</span></span><span class="sig-name descname"><span class="pre">App</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App" title="Ссылка на данное определение">¶</a></dt>
<dd><p>Базовый класс: <a class="reference internal" href="api-kivy.event.html#kivy.event.EventDispatcher" title="kivy.event.EventDispatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">kivy.event.EventDispatcher</span></code></a></p>
<p>Класс приложения, см. документацию модуля для получения дополнительной информации.</p>
<dl class="field-list simple">
<dt class="field-odd">Events</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>on_start</cite>:</dt>
<dd><p>Срабатывает при запуске приложения (перед вызовом
<a class="reference internal" href="api-kivy.base.html#kivy.base.runTouchApp" title="kivy.base.runTouchApp"><code class="xref py py-func docutils literal notranslate"><span class="pre">runTouchApp()</span></code></a>).</p>
</dd>
<dt><cite>on_stop</cite>:</dt>
<dd><p>Срабатывает при завершении приложения.</p>
</dd>
<dt><cite>on_pause</cite>:</dt>
<dd><p>Срабатывает, когда приложение приостанавливается операционной системой.</p>
</dd>
<dt><cite>on_resume</cite>:</dt>
<dd><p>Срабатывает, когда приложение возобновляется после приостановки операционной системой. Важно:
нет гарантии, что это событие будет срабатывать после того,
как было вызвано событие <cite>on_pause</cite>.</p>
</dd>
</dl>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.7.0: </span>Добавлен параметр <cite>kv_file</cite>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.8.0: </span>Параметры <cite>kv_file</cite> и <cite>kv_directory</cite> теперь являются свойствами класса App.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.async_run">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">async_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_lib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.async_run"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App.async_run" title="Ссылка на данное определение">¶</a></dt>
<dd><p>Идентичен методу <a class="reference internal" href="#kivy.app.App.run" title="kivy.app.App.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>, но является корутиной и может быть запланирован
в работающем асинхронном цикле событий.</p>
<p>См. <a class="reference internal" href="#module-kivy.app" title="kivy.app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kivy.app</span></code></a> для примеров использования.</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 2.0.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.build"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App.build" title="Ссылка на данное определение">¶</a></dt>
<dd><p>Инициализирует приложение; вызывается только один раз.
Если этот метод возвращает виджет (дерево), он будет использоваться как корневой
виджет и добавлен в окно.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None или экземпляр корневого <a class="reference internal" href="api-kivy.uix.widget.html#kivy.uix.widget.Widget" title="kivy.uix.widget.Widget"><code class="xref py py-class docutils literal notranslate"><span class="pre">Widget</span></code></a>
если self.root не существует.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.build_config">
<span class="sig-name descname"><span class="pre">build_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.build_config"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App.build_config" title="Ссылка на данное определение">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.0.7.</span></p>
</div>
<p>Этот метод вызывается перед инициализацией приложения
для создания объекта <a class="reference internal" href="api-kivy.config.html#kivy.config.ConfigParser" title="kivy.config.ConfigParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigParser</span></code></a>. Здесь вы можете добавить
любую секцию / ключ / значение по умолчанию для вашей
конфигурации. Если что-либо установлено, конфигурация будет
автоматически сохранена в файле, возвращенном
<a class="reference internal" href="#kivy.app.App.get_application_config" title="kivy.app.App.get_application_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_application_config()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>config</cite>: <a class="reference internal" href="api-kivy.config.html#kivy.config.ConfigParser" title="kivy.config.ConfigParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigParser</span></code></a></dt><dd><p>Используйте его, чтобы добавить элементы секции / ключа / значения по умолчанию</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.build_settings">
<span class="sig-name descname"><span class="pre">build_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.build_settings"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App.build_settings" title="Ссылка на данное определение">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.0.7.</span></p>
</div>
<p>Этот метод вызывается, когда пользователь (или вы) хотите показать
настройки приложения. Он вызывается один раз, когда панель настроек
впервые открывается, после чего панель кешируется. Он может быть
вызван снова, если кешированная панель настроек удалена с помощью
<a class="reference internal" href="#kivy.app.App.destroy_settings" title="kivy.app.App.destroy_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">destroy_settings()</span></code></a>.</p>
<p>Вы можете использовать этот метод для добавления панелей настроек и
настройки виджета настроек, например, изменив ширину боковой
панели. См. документацию модуля для получения полной информации.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>settings</cite>: <a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.Settings" title="kivy.uix.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a></dt><dd><p>Экземпляр настроек для добавления панелей</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.close_settings">
<span class="sig-name descname"><span class="pre">close_settings</span></span><span class

="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">largs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.close_settings"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App.close_settings" title="Ссылка на данное определение">¶</a></dt>
<dd><p>Закрывает ранее открытую панель настроек.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, если настройки были закрыты.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#kivy.app.App.config" title="Ссылка на данное определение">¶</a></dt>
<dd><p>Возвращает экземпляр <a class="reference internal" href="api-kivy.config.html#kivy.config.ConfigParser" title="kivy.config.ConfigParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigParser</span></code></a> для
конфигурации приложения. Вы можете использовать его для запроса некоторых конфигурационных
токенов в методе <a class="reference internal" href="#kivy.app.App.build" title="kivy.app.App.build"><code class="xref py py-meth docutils literal notranslate"><span class="pre">build()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.create_settings">
<span class="sig-name descname"><span class="pre">create_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.create_settings"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App.create_settings" title="Ссылка на данное определение">¶</a></dt>
<dd><p>Создает панель настроек. Этот метод обычно вызывается
только один раз в течение жизни приложения, и результат кешируется внутри,
но его можно вызвать снова, если кешированная панель удалена
с помощью <a class="reference internal" href="#kivy.app.App.destroy_settings" title="kivy.app.App.destroy_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">destroy_settings()</span></code></a>.</p>
<p>По умолчанию он создает панель настроек в соответствии с
<a class="reference internal" href="#kivy.app.App.settings_cls" title="kivy.app.App.settings_cls"><code class="xref py py-attr docutils literal notranslate"><span class="pre">settings_cls</span></code></a>, вызывает <a class="reference internal" href="#kivy.app.App.build_settings" title="kivy.app.App.build_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">build_settings()</span></code></a>, добавляет панель Kivy, если
<a class="reference internal" href="#kivy.app.App.use_kivy_settings" title="kivy.app.App.use_kivy_settings"><code class="xref py py-attr docutils literal notranslate"><span class="pre">use_kivy_settings</span></code></a> равно True, и связывается с
on_close/on_config_change.</p>
<p>Если вы хотите подключить свой собственный способ настройки, без панели Kivy
или событий закрытия/изменения конфигурации, это то, что вам нужно перегрузить.</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.8.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.destroy_settings">
<span class="sig-name descname"><span class="pre">destroy_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.destroy_settings"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App.destroy_settings" title="Ссылка на данное определение">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.8.0.</span></p>
</div>
<p>Ссылается на текущую панель настроек, если таковая имеется.
Это означает, что при следующем запуске <a class="reference internal" href="#kivy.app

.App.open_settings" title="kivy.app.App.open_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">App.open_settings()</span></code></a>
будет создана и отображена новая панель. Это не влияет на содержание панели,
но позволяет, например, обновить макет панели настроек, если вы изменили
виджет настроек в ответ на изменение размеров экрана.</p>
<p>Если вы изменили <a class="reference internal" href="#kivy.app.App.open_settings" title="kivy.app.App.open_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_settings()</span></code></a> или
<a class="reference internal" href="#kivy.app.App.display_settings" title="kivy.app.App.display_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">display_settings()</span></code></a>, вам следует быть внимательными,
чтобы правильно определить, был ли уничтожен предыдущий виджет настроек.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="kivy.app.App.directory">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">directory</span></span><a class="headerlink" href="#kivy.app.App.directory" title="Ссылка на данное определение">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.0.7.</span></p>
</div>
<p>Возвращает директорию, в котором находится приложение.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.display_settings">
<span class="sig-name descname"><span class="pre">display_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.display_settings"><span class="viewcode-link"><span class="pre">[исходный код]</span></span></a><a class="headerlink" href="#kivy.app.App.display_settings" title="Ссылка на данное определение">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.8.0.</span></p>
</div>
<p>Отображает панель настроек. По умолчанию панель отображается непосредственно
поверх окна. Вы можете определить другое поведение, переопределив
этот метод, например, добавив его в ScreenManager или Popup.</p>
<p>Вы должны вернуть True, если отображение успешно, в противном случае False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>settings</cite>: <a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.Settings" title="kivy.uix.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a></dt><dd><p>Вы можете изменить этот объект, чтобы изменить отображение настроек.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.get_application_config">
<span class="sig-name descname"><span class="pre">get_application_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaultpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%(appdir)s/%(appname)s.ini'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.get_application_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.get_application_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Возвращает имя файла конфигурации вашего приложения. В зависимости
от платформы файл приложения будет храниться в
разных местах:</p>
<blockquote>
<div><ul class="simple">
<li><p>на iOS: &lt;appdir&gt;/Documents/.&lt;appname&gt;.ini</p></li>
<li><p>на Android: &lt;user_data_dir&gt;/.&lt;appname&gt;.ini</p></li>
<li><p>в противном случае: &lt;appdir&gt;/&lt;appname&gt;.ini</p></li>
</ul>
</div></blockquote>
<p>Когда вы распространяете ваше приложение на настольные компьютеры, обратите внимание,
что если приложение предназначено для установки
системно, пользователь может не иметь права на запись в
каталог приложения. Если вы хотите хранить пользовательские настройки, вы
должны перегрузить этот метод и изменить стандартное поведение
для сохранения файла конфигурации в каталоге пользователя.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_application_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">TestApp</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_application_config</span><span class="p">(</span>
            <span class="s1">&#39;~/.</span><span class="si">%(appname)s</span><span class="s1">.ini&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Несколько замечаний:</p>
<ul class="simple">
<li><p>Символ тильды ‘~’ будет расширен до каталога пользователя.</p></li>
<li><p>%(appdir)s будет заменен на каталог приложения <a class="reference internal" href="#kivy.app.App.directory" title="kivy.app.App.directory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">directory</span></code></a></p></li>
<li><p>%(appname)s будет заменен на имя приложения <a class="reference internal" href="#kivy.app.App.name" title="kivy.app.App.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a></p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.0.7.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.4.0: </span>Настроено стандартное расположение для платформ iOS и Android. Добавлен параметр defaultpath для настольных ОС (не применим к iOS и Android.)</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.11.0: </span>Изменена версия Android для использования <a class="reference internal" href="#kivy.app.App.user_data_dir" title="kivy.app.App.user_data_dir"><code class="xref py py-attr docutils literal notranslate"><span class="pre">user_data_dir</span></code></a> и добавлена недостающая точка в имени файла конфигурации iOS.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.get_application_icon">
<span class="sig-name descname"><span class="pre">get_application_icon</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.get_application_icon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.get_application_icon" title="Ссылка на это определение">¶</a></dt>
<dd><p>Возвращает значок приложения.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.get_application_name">
<span class="sig-name descname"><span class="pre">get_application_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.get_application_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.get_application_name" title="Ссылка на это определение">¶</a></dt>
<dd><p>Возвращает имя приложения.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.get_running_app">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_running_app</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.get_running_app"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.get_running_app" title="Ссылка на это определение">¶</a></dt>
<dd><p>Возвращает текущий запущенный экземпляр приложения.</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.1.0.</span></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.icon">
<span class="sig-name descname"><span class="pre">icon</span></span><a class="headerlink" href="#kivy.app.App.icon" title="Ссылка на это определение">¶</a></dt>
<dd><p>Значок вашего приложения.
Значок может быть расположен в том же каталоге, что и ваш основной файл. Вы можете
установить его следующим образом:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;myicon.png&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.0.5.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.8.0: </span><cite>icon</cite> теперь является <a class="reference internal" href="api-kivy.properties.html#kivy.properties.StringProperty" title="kivy.properties.StringProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringProperty</span></code></a>. Не устанавливайте
значок в классе, как указано ранее в документации.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Заметка</p>
<p>Для Kivy до версии 1.8.0, вы должны установить это следующим образом:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;customicon.png&#39;</span>
</pre></div>
</div>
<p>Рекомендуется 256x256 или 1024x1024 для GNU/Linux и Mac OSX,
32x32 для Windows7 или ниже. &lt;= 256x256 для Windows 8
256x256 работает (по крайней мере, на Windows 8), но масштабируется
вниз и выглядит не так хорошо, как значок 32x32.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.kv_directory">
<span class="sig-name descname"><span class="pre">kv_directory</span></span><a class="headerlink" href="#kivy.app.App.kv_directory" title="Ссылка на это определение">¶</a></dt>
<dd><p>Путь к каталогу, в котором хранится kv-файл приложения, по умолчанию None</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.8.0.</span></p>
</div>
<p>Если установлен kv_directory, он будет использоваться для получения начального kv-файла. По
умолчанию предполагается, что файл находится в том же каталоге, что и текущий файл определения App.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.kv_file">
<span class="sig-name descname"><span class="pre">kv_file</span></span><a class="headerlink" href="#kivy.app.App.kv_file" title="Ссылка на это определение">¶</a></dt>
<dd><p>Имя файла Kv, который будет загружен, по умолчанию None.</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.8.0.</span></p>
</div>
<p>Если установлен kv_file, он будет загружен при запуске приложения. Загрузка "default" kv-файла будет предотвращена.</p>
</dd></dl>


<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.load_config">
<span class="sig-name descname"><span class="pre">load_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.load_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.load_config" title="Permalink to this definition">¶</a></dt>
<dd>
    <p>(внутренний) Эта функция используется для возврата ConfigParser с
    конфигурацией приложения. Она выполняет 3 действия:</p>
    <blockquote>
        <div>
            <ol class="arabic simple">
                <li>
                    <p>Создание экземпляра ConfigParser</p>
                </li>
                <li>
                    <p>Загрузка конфигурации по умолчанию, вызывая
                        <a class="reference internal" href="#kivy.app.App.build_config" title="kivy.app.App.build_config">
                            <code class="xref py py-meth docutils literal notranslate">
                                <span class="pre">build_config()</span>
                            </code>
                        </a>, затем
                    </p>
                </li>
                <li>
                    <p>Если существует, загрузка файла конфигурации приложения,
                        в противном случае создание нового.</p>
                </li>
            </ol>
        </div>
    </blockquote>
    <dl class="field-list simple">
        <dt class="field-odd">Returns</dt>
        <dd class="field-odd">
            <p>
                <a class="reference internal" href="api-kivy.config.html#kivy.config.ConfigParser" title="kivy.config.ConfigParser">
                    <code class="xref py py-class docutils literal notranslate">
                        <span class="pre">ConfigParser</span>
                    </code>
                </a> экземпляр
            </p>
        </dd>
    </dl>
</dd>

<dl class="py method">
    <dt class="sig sig-object py" id="kivy.app.App.load_kv">
        <span class="sig-name descname"><span class="pre">load_kv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.load_kv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.load_kv" title="Permalink to this definition">¶</a></dt>
    </dt>
    <dd>
        <p>Этот метод вызывается при первом запуске приложения, если не было
        построено дерево виджетов для этого приложения ранее.
        Затем этот метод ищет соответствующий файл kv в том же каталоге, что и
        файл, содержащий класс приложения.</p>
        <p>Например, если у вас есть файл с именем main.py, который содержит:</p>
        <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ShowcaseApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
        </div>
        <p>Этот метод будет искать файл с именем <cite>showcase.kv</cite> в
        каталоге, содержащем main.py. Имя файла kv должно быть
        в нижнем регистре именем класса без постфикса 'App' в конце,
        если он существует.</p>
        <p>Вы можете определить правила и корневой виджет в вашем файле kv:</p>
        <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ClassName</span><span class="o">&gt;</span><span class="p">:</span> <span class="c1"># this is a rule</span>
    <span class="o">...</span>

<span class="n">ClassName</span><span class="p">:</span> <span class="c1"># this is a root widget</span>
    <span class="o">...</span>
</pre></div>
</div>
        <p>Должен быть только один корневой виджет. Смотрите
        <a class="reference internal" href="api-kivy.lang.html"><span class="doc">Документацию по языку Kivy</span></a>
        для получения дополнительной информации о создании файлов kv. Если ваш
        файл kv содержит корневой виджет, он будет использоваться как self.root,
        корневой виджет для приложения.</p>
        <div class="admonition note">
            <p class="admonition-title">Примечание</p>
            <p>Эта функция вызывается из <a class="reference internal" href="#kivy.app.App.run" title="kivy.app.App.run">
                <code class="xref py py-meth docutils literal notranslate">
                    <span class="pre">run()</span>
                </code>
            </a>, поэтому любой виджет,
            стилизация которого определена в этом файле kv и создан до
            вызова <a class="reference internal" href="#kivy.app.App.run" title="kivy.app.App.run">
                <code class="xref py py-meth docutils literal notranslate">
                    <span class="pre">run()</span>
                </code>
            </a> (например, в <cite>__init__</cite>), не будет иметь примененных стилей.
            Обратите внимание, что <a class="reference internal" href="#kivy.app.App.build" title="kivy.app.App.build">
                <code class="xref py py-meth docutils literal notranslate">
                    <span class="pre">build()</span>
                </code>
            </a> вызывается после <a class="reference internal" href="#kivy.app.App.load_kv" title="kivy.app.App.load_kv">
                <code class="xref py py-attr docutils literal notranslate">
                    <span class="pre">load_kv</span>
                </code>
            </a>.</p>
        </div>
    </dd>
</dl>


<dl class="py property">
<dt class="sig sig-object py" id="kivy.app.App.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#kivy.app.App.name" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.7.</span></p>
</div>
<p>Возвращает имя приложения на основе имени класса.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.on_config_change">
<span class="sig-name descname"><span class="pre">on_config_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.on_config_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.on_config_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Обработчик событий, вызываемый при изменении токена конфигурации
на странице настроек.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.10.1: </span>Добавлено соответствующее событие <code class="docutils literal notranslate"><span class="pre">on_config_change</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.on_pause">
<span class="sig-name descname"><span class="pre">on_pause</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.on_pause"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.on_pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Обработчик событий, вызываемый при запросе режима паузы. Вы должны
возвращать True, если ваше приложение может перейти в режим паузы, в противном
случае возвращайте False, и ваше приложение будет остановлено.</p>
<p>Вы не можете контролировать, когда приложение перейдет в этот режим.
Это определяется операционной системой и в основном используется для мобильных
устройств (android/ios) и для изменения размера окна.</p>
<p>Значение по умолчанию - True.</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.1.0.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.10.0: </span>Значение по умолчанию теперь - True.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.on_resume">
<span class="sig-name descname"><span class="pre">on_resume</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.on_resume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.on_resume" title="Permalink to this definition">¶</a></dt>
<dd><p>Обработчик событий, вызываемый, когда ваше приложение возобновляется
из режима паузы.</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.1.0.</span></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Предупреждение</p>
<p>При возобновлении OpenGL Context может быть поврежден / освобожден.
Здесь вы можете восстановить некоторое из вашего состояния OpenGL,
например, содержимое FBO.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.on_start">
<span class="sig-name descname"><span class="pre">on_start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.on_start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.on_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Обработчик событий для события <cite>on_start</cite>, который вызывается после
инициализации (после вызова build()) и перед началом выполнения
приложения.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.on_stop">
<span class="sig-name descname"><span class="pre">on_stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.on_stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.on_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Обработчик событий для события <cite>on_stop</cite>, который вызывается, когда
приложение завершило выполнение (т.е. окно собирается быть
закрытым).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.open_settings">
<span class="sig-name descname"><span class="pre">open_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">largs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.open_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.open_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Открывает панель настроек приложения. Она будет создана в первый
раз, или воссоздана, если ранее закешированная панель была
удалена с помощью <a class="reference internal" href="#kivy.app.App.destroy_settings" title="kivy.app.App.destroy_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">destroy_settings()</span></code></a>. Панель настроек будет
отображена с помощью метода
<a class="reference internal" href="#kivy.app.App.display_settings" title="kivy.app.App.display_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">display_settings()</span></code></a>, который по умолчанию добавляет
панель настроек к окну, привязанному к вашему приложению.
Вы можете переопределить этот метод, если хотите отобразить панель
настроек по-другому.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, если настройки были открыты.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.options">
<span class="sig-name descname"><span class="pre">options</span></span><a class="headerlink" href="#kivy.app.App.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Опции, переданные в __init__ приложения</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.root">
<span class="sig-name descname"><span class="pre">root</span></span><a class="headerlink" href="#kivy.app.App.root" title="Permalink to this definition">¶</a></dt>
<dd><p>Виджет <em>root</em>, возвращенный методом <a class="reference internal" href="#kivy.app.App.build" title="kivy.app.App.build"><code class="xref py py-meth docutils literal notranslate"><span class="pre">build()</span></code></a> или
методом <a class="reference internal" href="#kivy.app.App.load_kv" title="kivy.app.App.load_kv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_kv()</span></code></a>, если файл kv содержит корневой виджет.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="kivy.app.App.root_window">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root_window</span></span><a class="headerlink" href="#kivy.app.App.root_window" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.9.0.</span></p>
</div>
<p>Возвращает экземпляр корневого окна, используемый методом <a class="reference internal" href="#kivy.app.App.run" title="kivy.app.App.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Запускает приложение в автономном режиме.</p>
</dd></dl>


<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.settings_cls">
<span class="sig-name descname"><span class="pre">settings_cls</span></span><a class="headerlink" href="#kivy.app.App.settings_cls" title="Ссылка на эту определение">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.8.0.</span></p>
</div>
<p>Класс, используемый для создания панели настроек и
экземпляр, передаваемый в <a class="reference internal" href="#kivy.app.App.build_config" title="kivy.app.App.build_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">build_config()</span></code></a>. Вы должны
использовать либо <a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.Settings" title="kivy.uix.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a>, либо один из предоставленных
подклассов с разными макетами
(<a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.SettingsWithSidebar" title="kivy.uix.settings.SettingsWithSidebar"><code class="xref py py-class docutils literal notranslate"><span class="pre">SettingsWithSidebar</span></code></a>,
<a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.SettingsWithSpinner" title="kivy.uix.settings.SettingsWithSpinner"><code class="xref py py-class docutils literal notranslate"><span class="pre">SettingsWithSpinner</span></code></a>,
<a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.SettingsWithTabbedPanel" title="kivy.uix.settings.SettingsWithTabbedPanel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SettingsWithTabbedPanel</span></code></a>,
<a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.SettingsWithNoMenu" title="kivy.uix.settings.SettingsWithNoMenu"><code class="xref py py-class docutils literal notranslate"><span class="pre">SettingsWithNoMenu</span></code></a>). Вы также можете создать свой
собственный подкласс Settings. Для получения дополнительной информации смотрите документацию
по <a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.Settings" title="kivy.uix.settings.Settings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Settings</span></code></a>.</p>
<p><a class="reference internal" href="#kivy.app.App.settings_cls" title="kivy.app.App.settings_cls"><code class="xref py py-attr docutils literal notranslate"><span class="pre">settings_cls</span></code></a> является <a class="reference internal" href="api-kivy.properties.html#kivy.properties.ObjectProperty" title="kivy.properties.ObjectProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectProperty</span></code></a>
и по умолчанию равен <a class="reference internal" href="api-kivy.uix.settings.html#kivy.uix.settings.SettingsWithSpinner" title="kivy.uix.settings.SettingsWithSpinner"><code class="xref py py-class docutils literal notranslate"><span class="pre">SettingsWithSpinner</span></code></a>, который
отображает панели настроек с помощью выпадающего списка для их переключения. Если вы устанавливаете
строку, то будет использоваться <a class="reference internal" href="api-kivy.factory.html#kivy.factory.Factory" title="kivy.factory.Factory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Factory</span></code></a> для разрешения
класса.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kivy.app.App.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">largs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/app.html#App.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.App.stop" title="Ссылка на это определение">¶</a></dt>
<dd><p>Останавливает приложение.</p>
<p>Если вы используете этот метод, то всё приложение будет остановлено вызовом
функции <a class="reference internal" href="api-kivy.base.html#kivy.base.stopTouchApp" title="kivy.base.stopTouchApp"><code class="xref py py-func docutils literal notranslate"><span class="pre">stopTouchApp()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.title">
<span class="sig-name descname"><span class="pre">title</span></span><a class="headerlink" href="#kivy.app.App.title" title="Ссылка на это определение">¶</a></dt>
<dd><p>Заголовок вашего приложения. Вы можете установить его следующим образом:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Привет, мир!&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.0.5.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.8.0: </span><cite>title</cite> теперь является <a class="reference internal" href="api-kivy.properties.html#kivy.properties.StringProperty" title="kivy.properties.StringProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringProperty</span></code></a>. Не
устанавливайте заголовок в классе, как ранее указано в документации.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Для Kivy &lt; 1.8.0, вы можете установить заголовок следующим образом:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Пользовательский заголовок&#39;</span>
</pre></div>
</div>
<p>Если вы хотите динамически изменить заголовок, вы можете сделать следующее:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.base</span> <span class="kn">import</span> <span class="n">EventLoop</span>
<span class="n">EventLoop</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Новый заголовок&#39;</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="kivy.app.App.use_kivy_settings">
<span class="sig-name descname"><span class="pre">use_kivy_settings</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#kivy.app.App.use_kivy_settings" title="Ссылка на это определение">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.0.7.</span></p>
</div>
<p>Если True, настройки приложения также будут включать настройки Kivy. Если
вы не хотите, чтобы пользователь изменял настройки Kivy из вашего интерфейса настроек,
измените это значение на False.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="kivy.app.App.user_data_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_data_dir</span></span><a class="headerlink" href="#kivy.app.App.user_data_dir" title="Ссылка на это определение">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 1.7.0.</span></p>
</div>
<p>Возвращает путь к директории в файловой системе пользователя, которую
приложение может использовать для хранения дополнительных данных.</p>
<p>Разные платформы имеют разные соглашения относительно того,
где пользователь может хранить данные, такие как настройки, сохраненные игры и настройки.
Эта функция реализует эти соглашения. Директория &lt;app_name&gt;
создается при вызове этого свойства, если она еще не существует.</p>
<p>На iOS возвращается <cite>~/Documents/&lt;app_name&gt;</cite> (которая находится внутри
песочницы приложения).</p>
<p>На Windows возвращается <cite>%APPDATA%/&lt;app_name&gt;</cite>.</p>
<p>На OS X возвращается <cite>~/Library/Application Support/&lt;app_name&gt;</cite>.</p>
<p>На Linux возвращается <cite>$XDG_CONFIG_HOME/&lt;app_name&gt;</cite>.</p>
<p>На Android возвращается <a class="reference external" href="https://developer.android.com/reference/android/content/Context.html#getFilesDir()">Context.GetFilesDir</a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Изменено в версии 1.11.0: </span>На Android, эта функция ранее возвращала
<cite>/sdcard/&lt;app_name&gt;</cite>. Эта папка стала доступной только для чтения по умолчанию
в Android API 26, и поэтому user_data_dir была перемещена
в место для записи.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kivy.app.async_runTouchApp">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kivy.app.</span></span><span class="sig-name descname"><span class="pre">async_runTouchApp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">widget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">async_lib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/base.html#async_runTouchApp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.async_runTouchApp" title="Ссылка на это определение">¶</a></dt>
<dd><p>Идентична функции <a class="reference internal" href="#kivy.app.runTouchApp" title="kivy.app.runTouchApp"><code class="xref py py-func docutils literal notranslate"><span class="pre">runTouchApp()</span></code></a>, но вместо этого это корутина,
которую можно выполнить в существующем асинхронном цикле событий.</p>
<p><code class="docutils literal notranslate"><span class="pre">async_lib</span></code> - это библиотека асинхронного кода, которую нужно использовать. Смотрите
<a class="reference internal" href="#module-kivy.app" title="kivy.app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kivy.app</span></code></a> для подробностей
и примеров использования.</p>
<div class="versionadded">
<p><span class="versionmodified added">Добавлено в версии 2.0.0.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kivy.app.runTouchApp">
<span class="sig-prename descclassname"><span class="pre">kivy.app.</span></span><span class="sig-name descname"><span class="pre">runTouchApp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">widget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/base.html#runTouchApp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.runTouchApp" title="Ссылка на это определение">¶</a></dt>
<dd><p>Статическая главная функция, которая запускает цикл приложения.
Вы можете получить доступ к некоторым магическим аргументам через:</p>
<p>Смотрите <a class="reference internal" href="#module-kivy.app" title="kivy.app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kivy.app</span></code></a> для примеров использования.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>&lt;empty&gt;</cite></dt><dd><p>Чтобы сделать диспетчеризацию событий, вам нужен хотя бы один
слушатель событий ввода. В противном случае приложение завершит работу.
(MTWindow действует как слушатель ввода)</p>
</dd>
<dt><cite>widget</cite></dt><dd><p>Если вы передаете только виджет, будет создан MTWindow
и ваш виджет будет добавлен в окно как корневой
виджет.</p>
</dd>
<dt><cite>embedded</cite></dt><dd><p>События не распространяются. Это будет вашей задачей.</p>
</dd>
<dt><cite>widget + embedded</cite></dt><dd><p>События не распространяются. Это будет вашей задачей, но
мы попытаемся получить окно (которое должно быть создано вами заранее)
и добавить виджет в него. Очень полезно для встраивания Kivy
в другой инструментарий. (как, например, Qt, см. kivy-designed)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kivy.app.stopTouchApp">
<span class="sig-prename descclassname"><span class="pre">kivy.app.</span></span><span class="sig-name descname"><span class="pre">stopTouchApp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/kivy/base.html#stopTouchApp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kivy.app.stopTouchApp" title="Ссылка на это определение">¶</a></dt>
<dd><p>Останавливает текущее приложение, выходя из главного цикла.</p>
<p>Смотрите <a class="reference internal" href="#module-kivy.app" title="kivy.app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kivy.app</span></code></a> для примеров использования.</p>
</dd></dl>


</section>
<div class="toctree-wrapper compound">
</div>
</section>


            <div class="footerlinks">
            <table>
                <tr>
                    <td class="leftlink">
                  <a href="api-kivy.animation.html" title="previous chapter">&laquo; Animation</a></li>
                  </td>
                  <td class="rightlink">
                  <a href="api-kivy.loader.html" title="next chapter">Asynchronous data loader &raquo;</a>
                      </td>
                  </tr>
              </table>
              </div>
          </div>
        </div>
      </div>
    </div>
    <div class="clearer"></div>
  </div>
</div>
<!-- Piwik -->
<script>
  var selector = $("#version_selector");

  selector.on('change', function() {
    // replace the version part of the url with the selected version
    document.location.pathname = document.location.pathname.replace(
      /^(\/.*?\/).*?(\/.*)/,
     '$1' + this.value + '$2'
    );
  });

  var url = "/doc/versions.json";

  $.getJSON(url, function(versions) {
    versions.forEach(function(version){
      var current = window.location.pathname.split('/')[2]
      selector.append(
        $("<option " + (version == current ? "selected" : "") + "/>").val(version).html(version)
      );
    });
  });
</script>
<!-- End Piwik Tracking Code -->
    <!--
    <div class="footer">
      &copy; Copyright 2010, The Kivy Authors.
      Last updated on Mar 06, 2022.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 4.4.0.
</div>
-->
  </body>
</html>